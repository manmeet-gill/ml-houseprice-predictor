import pandas as pd
from sklearn.tree import DecisionTreeRegressor

main_file_path = './train.csv' # this is the path to the Iowa data that you will use
data = pd.read_csv(main_file_path)

y=data.SalePrice

iowa_predictors_list=['LotArea', 'YearBuilt','1stFlrSF','2ndFlrSF','FullBath', 'BedroomAbvGr','TotRmsAbvGrd']

X = data[iowa_predictors_list]

iowa_model = DecisionTreeRegressor()

iowa_model.fit(X,y)

print("Making predictions for the following 5 houses")
print(X.head())

print("The predictions are")
print(iowa_model.predict(X.head()))

from sklearn.metrics import mean_absolute_error

predicted_prices = iowa_model.predict(X)
print("MAE is ",mean_absolute_error(y, predicted_prices))